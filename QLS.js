/*        
        ‚û™ÔºöÂÖ®ÂéÜÂè≤

        ‚òÖÔºöËß£ÈîÅÊ∞∏‰πÖüÜÖüÖ∏üÖø

        ñ£òÔºö @ùôçùô£ùôûùô†‚ûè‚ûè‚ûè

íäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπíäπ

[rewrite_local] 

^https?:\/\/playvideo\.qcloud\.com\/getplayinfo|^https?:\/\/speed\.allhistory\.com\/ap url script-response-body https://raw.githubusercontent.com/Rnik666/YJTJS/main/QLS.js

[MITM]
hostname = playvideo.qcloud.com, speed.allhistory.com


*/

bGV0IGJvZHkgPSAkcmVzcG9uc2UuYm9keTsKCi8vIDEuIOWtl+espuS4suWxgumdoueahOato+WImeabv+aNou+8iOS7heWkhOeQhuW/heimgeWtl+aute+8iQpib2R5ID0gYm9keQogICAgLnJlcGxhY2UoLygiY29kZSJccyo6XHMqKVxkKy9nLCAnJDEyMDAnKQogICAgLnJlcGxhY2UoLygiKD86aW1hZ2V8dXNlckF2YXRhcikiXHMqOlxzKiIpW14iXSoiL2csICckMWh0dHA6Ly9vc3MudjJkai5jb20vcGljLzIwMjUvMDcvMTgvMTc1MjgwOTQ1NjUxNjkuanBlZyInKQogICAgLnJlcGxhY2UoLygidXNlck5hbWUiXHMqOlxzKiIpW14iXSoiL2csICckMfCdkJPwnZCGQPCdkKLwnZCO8J2QkvCdkIDwnZCW8J2QiSInKQogICAgLnJlcGxhY2UoLygibGV2ZWwiXHMqOlxzKilcZCsvZywgJyQxOScpOwoKbGV0IG1vZGlmaWVkID0gZmFsc2U7CnRyeSB7CiAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGJvZHkpOwogICAgbW9kaWZpZWQgPSB0cnVlOwogICAgCiAgICAvLyAyLiDmt7Hluqbop6PplIFWSVDmnYPpmZAKICAgIGRlZXBVbmxvY2tWSVAob2JqKTsKICAgIAogICAgLy8gMy4g5L+u5aSN6KeG6aKR5pKt5pS+5Zyw5Z2ACiAgICBpbmplY3RQbGF5YWJsZVVybChvYmopOwogICAgCiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob2JqKTsKfSBjYXRjaCAoZSkgewogICAgY29uc29sZS5sb2coIumdnkpTT07lk43lupTvvIzot7Pov4flr7nosaHlpITnkIYiKTsKfQoKJGRvbmUoeyBib2R5IH0pOwoKLy8g5rex5bqm6Kej6ZSB5Lya5ZGY5p2D6ZmQCmZ1bmN0aW9uIGRlZXBVbmxvY2tWSVAobykgewogICAgaWYgKCFvIHx8IHR5cGVvZiBvICE9PSAnb2JqZWN0JykgcmV0dXJuOwogICAgCiAgICBPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChba2V5LCB2YWxdKSA9PiB7CiAgICAgICAgLy8g5aSE55CG5Z+656GA57G75Z6L5a2X5q61CiAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIHN3aXRjaCh0cnVlKSB7CiAgICAgICAgICAgICAgICAvLyDkvJrlkZjnirbmgIHlrZfmrrUKICAgICAgICAgICAgICAgIGNhc2UgL14oaXNQZXJtYW5lbnR8aGFzUHJpdmlsZWdlfHZpcHxpc1ZpcHxlbmFibGVTdWJzY3JpcHRpb258cHVyY2hhc2UpJC9pLnRlc3Qoa2V5KToKICAgICAgICAgICAgICAgICAgICBvW2tleV0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIOWFjei0ueeKtuaAgeWtl+autQogICAgICAgICAgICAgICAgY2FzZSAvXihpc0ZyZWV8c2hvd0ZyZWVUaW1lKSQvaS50ZXN0KGtleSk6CiAgICAgICAgICAgICAgICAgICAgb1trZXldID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDku5jotLnnirbmgIHlrZfmrrUKICAgICAgICAgICAgICAgIGNhc2UgL14oaXNTaG93UGF5fGlzTGFkZGVyVmlwQ29udGVudHxuZWVkUGF5fGlzTG9ja2VkfGxvY2tlZHxpc1BhaWQpJC9pLnRlc3Qoa2V5KToKICAgICAgICAgICAgICAgICAgICBvW2tleV0gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDov4fmnJ/ml7bpl7TlrZfmrrUKICAgICAgICAgICAgICAgIGNhc2UgL14oZXhwaXJlVGltZXxleHBpcmVkP3xleHBpcmV8ZW5kfGR1ZXx2YWxpZCkoVGltZXxEYXRlfEF0KT8kL2kudGVzdChrZXkpOgogICAgICAgICAgICAgICAgICAgIG9ba2V5XSA9IDQxMDI0MTU5OTkwMDA7IC8vIDIwOTktMTItMzEKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDkvJrlkZjnrYnnuqflrZfmrrUKICAgICAgICAgICAgICAgIGNhc2UgL14obGV2ZWx8dmlwTGV2ZWwpJC9pLnRlc3Qoa2V5KToKICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnbGV2ZWwnKSBvW2tleV0gPSA0OyAvLyDkv53mjIHkuYvliY3nmoRsZXZlbOWkhOeQhgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDpgJLlvZLlpITnkIbltYzlpZflr7nosaEKICAgICAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGRlZXBVbmxvY2tWSVAodmFsKTsKICAgICAgICB9CiAgICB9KTsKfQoKLy8g5rOo5YWl5Y+v5pKt5pS+VVJMCmZ1bmN0aW9uIGluamVjdFBsYXlhYmxlVXJsKG8pIHsKICAgIGlmICghbyB8fCB0eXBlb2YgbyAhPT0gJ29iamVjdCcpIHJldHVybjsKICAgIAogICAgLy8g5b2T5YmN5bGC5aSE55CGCiAgICBpZiAoby51cmwgPT09ICcnICYmIAogICAgICAgIG8uc3RyZWFtSW5mbz8uaXRlbXM/LlswXT8udXJsKSB7CiAgICAgICAgby51cmwgPSBvLnN0cmVhbUluZm8uaXRlbXNbMF0udXJsOwogICAgfQogICAgCiAgICAvLyDpgJLlvZLlpITnkIblrZDlr7nosaEKICAgIGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhvKSkgewogICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGluamVjdFBsYXlhYmxlVXJsKHZhbHVlKTsKICAgICAgICB9CiAgICB9Cn0K